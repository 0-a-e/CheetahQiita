{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{vnES:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"ion_nav\",(function(){return Nav})),__webpack_require__.d(__webpack_exports__,\"ion_nav_link\",(function(){return NavLink}));var _core_80bde1aa_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"54nT\"),_config_3c7f3790_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"AfW+\"),_helpers_46f4a262_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"aiEM\"),_cubic_bezier_1d592096_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"0AIG\"),_constants_3c3e1099_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"kBU6\"),_framework_delegate_c2e2e1f4_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(\"m9yc\"),_index_3528f139_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(\"Uch9\");class ViewController{constructor(component,params){this.component=component,this.params=params,this.state=1}async init(container){if(this.state=2,!this.element){const component=this.component;this.element=await Object(_framework_delegate_c2e2e1f4_js__WEBPACK_IMPORTED_MODULE_5__.a)(this.delegate,container,component,[\"ion-page\",\"ion-page-invisible\"],this.params)}}_destroy(){Object(_helpers_46f4a262_js__WEBPACK_IMPORTED_MODULE_2__.b)(3!==this.state,\"view state must be ATTACHED\");const element=this.element;element&&(this.delegate?this.delegate.removeViewFromDom(element.parentElement,element):element.remove()),this.nav=void 0,this.state=3}}const matches=(view,id,params)=>{if(!view)return!1;if(view.component!==id)return!1;const currentParams=view.params;if(currentParams===params)return!0;if(!currentParams&&!params)return!0;if(!currentParams||!params)return!1;const keysA=Object.keys(currentParams),keysB=Object.keys(params);if(keysA.length!==keysB.length)return!1;for(const key of keysA)if(currentParams[key]!==params[key])return!1;return!0},convertToView=(page,params)=>page?page instanceof ViewController?page:new ViewController(page,params):null,Nav=class{constructor(hostRef){Object(_core_80bde1aa_js__WEBPACK_IMPORTED_MODULE_0__.k)(this,hostRef),this.transInstr=[],this.animationEnabled=!0,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.animated=!0,this.ionNavWillLoad=Object(_core_80bde1aa_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,\"ionNavWillLoad\",7),this.ionNavWillChange=Object(_core_80bde1aa_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,\"ionNavWillChange\",3),this.ionNavDidChange=Object(_core_80bde1aa_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,\"ionNavDidChange\",3)}swipeGestureChanged(){this.gesture&&this.gesture.enable(!0===this.swipeGesture)}rootChanged(){void 0!==this.root&&(this.useRouter||this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=!!document.querySelector(\"ion-router\")&&!this.el.closest(\"[no-router]\"),void 0===this.swipeGesture){const mode=Object(_core_80bde1aa_js__WEBPACK_IMPORTED_MODULE_0__.d)(this);this.swipeGesture=_config_3c7f3790_js__WEBPACK_IMPORTED_MODULE_1__.b.getBoolean(\"swipeBackEnabled\",\"ios\"===mode)}this.ionNavWillLoad.emit()}async componentDidLoad(){this.rootChanged(),this.gesture=(await __webpack_require__.e(3).then(__webpack_require__.bind(null,\"vYiJ\"))).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}componentDidUnload(){for(const view of this.views)Object(_index_3528f139_js__WEBPACK_IMPORTED_MODULE_6__.c)(view.element,_constants_3c3e1099_js__WEBPACK_IMPORTED_MODULE_4__.e),view._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=this.views.length=0,this.destroyed=!0}push(component,componentProps,opts,done){return this.queueTrns({insertStart:-1,insertViews:[{page:component,params:componentProps}],opts:opts},done)}insert(insertIndex,component,componentProps,opts,done){return this.queueTrns({insertStart:insertIndex,insertViews:[{page:component,params:componentProps}],opts:opts},done)}insertPages(insertIndex,insertComponents,opts,done){return this.queueTrns({insertStart:insertIndex,insertViews:insertComponents,opts:opts},done)}pop(opts,done){return this.queueTrns({removeStart:-1,removeCount:1,opts:opts},done)}popTo(indexOrViewCtrl,opts,done){const tiConfig={removeStart:-1,removeCount:-1,opts:opts};return\"object\"==typeof indexOrViewCtrl&&indexOrViewCtrl.component?(tiConfig.removeView=indexOrViewCtrl,tiConfig.removeStart=1):\"number\"==typeof indexOrViewCtrl&&(tiConfig.removeStart=indexOrViewCtrl+1),this.queueTrns(tiConfig,done)}popToRoot(opts,done){return this.queueTrns({removeStart:1,removeCount:-1,opts:opts},done)}removeIndex(startIndex,removeCount=1,opts,done){return this.queueTrns({removeStart:startIndex,removeCount:removeCount,opts:opts},done)}setRoot(component,componentProps,opts,done){return this.setPages([{page:component,params:componentProps}],opts,done)}setPages(views,opts,done){return null==opts&&(opts={}),!0!==opts.animated&&(opts.animated=!1),this.queueTrns({insertStart:0,insertViews:views,removeStart:0,removeCount:-1,opts:opts},done)}setRouteId(id,params,direction){const active=this.getActiveSync();if(matches(active,id,params))return Promise.resolve({changed:!1,element:active.element});let resolve;const promise=new Promise(r=>resolve=r);let finish;const commonOpts={updateURL:!1,viewIsReady:enteringEl=>{let mark;const p=new Promise(r=>mark=r);return resolve({changed:!0,element:enteringEl,markVisible:async()=>{mark(),await finish}}),p}};if(\"root\"===direction)finish=this.setRoot(id,params,commonOpts);else{const viewController=this.views.find(v=>matches(v,id,params));viewController?finish=this.popTo(viewController,Object.assign(Object.assign({},commonOpts),{direction:\"back\"})):\"forward\"===direction?finish=this.push(id,params,commonOpts):\"back\"===direction&&(finish=this.setRoot(id,params,Object.assign(Object.assign({},commonOpts),{direction:\"back\",animated:!0})))}return promise}async getRouteId(){const active=this.getActiveSync();return active?{id:active.element.tagName,params:active.params,element:active.element}:void 0}getActive(){return Promise.resolve(this.getActiveSync())}getByIndex(index){return Promise.resolve(this.views[index])}canGoBack(view){return Promise.resolve(this.canGoBackSync(view))}getPrevious(view){return Promise.resolve(this.getPreviousSync(view))}getLength(){return this.views.length}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(view=this.getActiveSync()){return!(!view||!this.getPreviousSync(view))}getPreviousSync(view=this.getActiveSync()){if(!view)return;const views=this.views,index=views.indexOf(view);return index>0?views[index-1]:void 0}queueTrns(ti,done){if(this.isTransitioning&&null!=ti.opts&&ti.opts.skipIfBusy)return Promise.resolve(!1);const promise=new Promise((resolve,reject)=>{ti.resolve=resolve,ti.reject=reject});return ti.done=done,ti.insertViews&&0===ti.insertViews.length&&(ti.insertViews=void 0),this.transInstr.push(ti),this.nextTrns(),promise}success(result,ti){if(this.destroyed)this.fireError(\"nav controller was destroyed\",ti);else if(ti.done&&ti.done(result.hasCompleted,result.requiresTransition,result.enteringView,result.leavingView,result.direction),ti.resolve(result.hasCompleted),!1!==ti.opts.updateURL&&this.useRouter){const router=document.querySelector(\"ion-router\");router&&router.navChanged(\"back\"===result.direction?\"back\":\"forward\")}}failed(rejectReason,ti){this.destroyed?this.fireError(\"nav controller was destroyed\",ti):(this.transInstr.length=0,this.fireError(rejectReason,ti))}fireError(rejectReason,ti){ti.done&&ti.done(!1,!1,rejectReason),ti.reject&&!this.destroyed?ti.reject(rejectReason):ti.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const ti=this.transInstr.shift();return!!ti&&(this.runTransition(ti),!0)}async runTransition(ti){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(ti);const leavingView=this.getActiveSync(),enteringView=this.getEnteringView(ti,leavingView);if(!leavingView&&!enteringView)throw new Error(\"no views in the stack to be removed\");enteringView&&1===enteringView.state&&await enteringView.init(this.el),this.postViewInit(enteringView,leavingView,ti);const result=(ti.enteringRequiresTransition||ti.leavingRequiresTransition)&&enteringView!==leavingView?await this.transition(enteringView,leavingView,ti):{hasCompleted:!0,requiresTransition:!1};this.success(result,ti),this.ionNavDidChange.emit()}catch(rejectReason){this.failed(rejectReason,ti)}this.isTransitioning=!1,this.nextTrns()}prepareTI(ti){const viewsLength=this.views.length;if(ti.opts=ti.opts||{},void 0===ti.opts.delegate&&(ti.opts.delegate=this.delegate),void 0!==ti.removeView){Object(_helpers_46f4a262_js__WEBPACK_IMPORTED_MODULE_2__.b)(void 0!==ti.removeStart,\"removeView needs removeStart\"),Object(_helpers_46f4a262_js__WEBPACK_IMPORTED_MODULE_2__.b)(void 0!==ti.removeCount,\"removeView needs removeCount\");const index=this.views.indexOf(ti.removeView);if(index<0)throw new Error(\"removeView was not found\");ti.removeStart+=index}void 0!==ti.removeStart&&(ti.removeStart<0&&(ti.removeStart=viewsLength-1),ti.removeCount<0&&(ti.removeCount=viewsLength-ti.removeStart),ti.leavingRequiresTransition=ti.removeCount>0&&ti.removeStart+ti.removeCount===viewsLength),ti.insertViews&&((ti.insertStart<0||ti.insertStart>viewsLength)&&(ti.insertStart=viewsLength),ti.enteringRequiresTransition=ti.insertStart===viewsLength);const insertViews=ti.insertViews;if(!insertViews)return;Object(_helpers_46f4a262_js__WEBPACK_IMPORTED_MODULE_2__.b)(insertViews.length>0,\"length can not be zero\");const viewControllers=insertViews.map(page=>page instanceof ViewController?page:\"page\"in page?convertToView(page.page,page.params):convertToView(page,void 0)).filter(v=>null!==v);if(0===viewControllers.length)throw new Error(\"invalid views to insert\");for(const view of viewControllers){view.delegate=ti.opts.delegate;const nav=view.nav;if(nav&&nav!==this)throw new Error(\"inserted view was already inserted\");if(3===view.state)throw new Error(\"inserted view was already destroyed\")}ti.insertViews=viewControllers}getEnteringView(ti,leavingView){const insertViews=ti.insertViews;if(void 0!==insertViews)return insertViews[insertViews.length-1];const removeStart=ti.removeStart;if(void 0!==removeStart){const views=this.views,removeEnd=removeStart+ti.removeCount;for(let i=views.length-1;i>=0;i--){const view=views[i];if((i<removeStart||i>=removeEnd)&&view!==leavingView)return view}}}postViewInit(enteringView,leavingView,ti){Object(_helpers_46f4a262_js__WEBPACK_IMPORTED_MODULE_2__.b)(leavingView||enteringView,\"Both leavingView and enteringView are null\"),Object(_helpers_46f4a262_js__WEBPACK_IMPORTED_MODULE_2__.b)(ti.resolve,\"resolve must be valid\"),Object(_helpers_46f4a262_js__WEBPACK_IMPORTED_MODULE_2__.b)(ti.reject,\"reject must be valid\");const opts=ti.opts,insertViews=ti.insertViews,removeStart=ti.removeStart,removeCount=ti.removeCount;let destroyQueue;if(void 0!==removeStart&&void 0!==removeCount){Object(_helpers_46f4a262_js__WEBPACK_IMPORTED_MODULE_2__.b)(removeStart>=0,\"removeStart can not be negative\"),Object(_helpers_46f4a262_js__WEBPACK_IMPORTED_MODULE_2__.b)(removeCount>=0,\"removeCount can not be negative\"),destroyQueue=[];for(let i=0;i<removeCount;i++){const view=this.views[i+removeStart];view&&view!==enteringView&&view!==leavingView&&destroyQueue.push(view)}opts.direction=opts.direction||\"back\"}const finalBalance=this.views.length+(void 0!==insertViews?insertViews.length:0)-(void 0!==removeCount?removeCount:0);if(Object(_helpers_46f4a262_js__WEBPACK_IMPORTED_MODULE_2__.b)(finalBalance>=0,\"final balance can not be negative\"),0===finalBalance)throw console.warn(\"You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.\",this,this.el),new Error(\"navigation stack needs at least one root page\");if(insertViews){let insertIndex=ti.insertStart;for(const view of insertViews)this.insertViewAt(view,insertIndex),insertIndex++;ti.enteringRequiresTransition&&(opts.direction=opts.direction||\"forward\")}if(destroyQueue&&destroyQueue.length>0){for(const view of destroyQueue)Object(_index_3528f139_js__WEBPACK_IMPORTED_MODULE_6__.c)(view.element,_constants_3c3e1099_js__WEBPACK_IMPORTED_MODULE_4__.c),Object(_index_3528f139_js__WEBPACK_IMPORTED_MODULE_6__.c)(view.element,_constants_3c3e1099_js__WEBPACK_IMPORTED_MODULE_4__.d),Object(_index_3528f139_js__WEBPACK_IMPORTED_MODULE_6__.c)(view.element,_constants_3c3e1099_js__WEBPACK_IMPORTED_MODULE_4__.e);for(const view of destroyQueue)this.destroyView(view)}}async transition(enteringView,leavingView,ti){const opts=ti.opts,progressCallback=opts.progressAnimation?ani=>this.sbAni=ani:void 0,mode=Object(_core_80bde1aa_js__WEBPACK_IMPORTED_MODULE_0__.d)(this),enteringEl=enteringView.element,leavingEl=leavingView&&leavingView.element,animationOpts=Object.assign({mode:mode,showGoBack:this.canGoBackSync(enteringView),baseEl:this.el,animationBuilder:this.animation||opts.animationBuilder||_config_3c7f3790_js__WEBPACK_IMPORTED_MODULE_1__.b.get(\"navAnimation\"),progressCallback:progressCallback,animated:this.animated&&_config_3c7f3790_js__WEBPACK_IMPORTED_MODULE_1__.b.getBoolean(\"animated\",!0),enteringEl:enteringEl,leavingEl:leavingEl},opts),{hasCompleted:hasCompleted}=await Object(_index_3528f139_js__WEBPACK_IMPORTED_MODULE_6__.e)(animationOpts);return this.transitionFinish(hasCompleted,enteringView,leavingView,opts)}transitionFinish(hasCompleted,enteringView,leavingView,opts){const cleanupView=hasCompleted?enteringView:leavingView;return cleanupView&&this.cleanup(cleanupView),{hasCompleted:hasCompleted,requiresTransition:!0,enteringView:enteringView,leavingView:leavingView,direction:opts.direction}}insertViewAt(view,index){const views=this.views,existingIndex=views.indexOf(view);existingIndex>-1?(Object(_helpers_46f4a262_js__WEBPACK_IMPORTED_MODULE_2__.b)(view.nav===this,\"view is not part of the nav\"),views.splice(index,0,views.splice(existingIndex,1)[0])):(Object(_helpers_46f4a262_js__WEBPACK_IMPORTED_MODULE_2__.b)(!view.nav,\"nav is used\"),view.nav=this,views.splice(index,0,view))}removeView(view){Object(_helpers_46f4a262_js__WEBPACK_IMPORTED_MODULE_2__.b)(2===view.state||3===view.state,\"view state should be loaded or destroyed\");const views=this.views,index=views.indexOf(view);Object(_helpers_46f4a262_js__WEBPACK_IMPORTED_MODULE_2__.b)(index>-1,\"view must be part of the stack\"),index>=0&&views.splice(index,1)}destroyView(view){view._destroy(),this.removeView(view)}cleanup(activeView){if(this.destroyed)return;const views=this.views,activeViewIndex=views.indexOf(activeView);for(let i=views.length-1;i>=0;i--){const view=views[i],element=view.element;i>activeViewIndex?(Object(_index_3528f139_js__WEBPACK_IMPORTED_MODULE_6__.c)(element,_constants_3c3e1099_js__WEBPACK_IMPORTED_MODULE_4__.e),this.destroyView(view)):i<activeViewIndex&&Object(_index_3528f139_js__WEBPACK_IMPORTED_MODULE_6__.d)(element,!0)}}canStart(){return!!this.swipeGesture&&!this.isTransitioning&&0===this.transInstr.length&&this.animationEnabled&&this.canGoBackSync()}onStart(){this.queueTrns({removeStart:-1,removeCount:1,opts:{direction:\"back\",progressAnimation:!0}},void 0)}onMove(stepValue){this.sbAni&&this.sbAni.progressStep(stepValue)}onEnd(shouldComplete,stepValue,dur){if(this.sbAni){this.animationEnabled=!1,this.sbAni.onFinish(()=>{this.animationEnabled=!0},{oneTimeCallback:!0});let newStepValue=shouldComplete?-.001:.001;shouldComplete?newStepValue+=Object(_cubic_bezier_1d592096_js__WEBPACK_IMPORTED_MODULE_3__.a)([0,0],[.32,.72],[0,1],[1,1],stepValue)[0]:(this.sbAni.easing(\"cubic-bezier(1, 0, 0.68, 0.28)\"),newStepValue+=Object(_cubic_bezier_1d592096_js__WEBPACK_IMPORTED_MODULE_3__.a)([0,0],[1,0],[.68,.28],[1,1],stepValue)[0]),this.sbAni.progressEnd(shouldComplete?1:0,newStepValue,dur)}}render(){return Object(_core_80bde1aa_js__WEBPACK_IMPORTED_MODULE_0__.i)(\"slot\",null)}get el(){return Object(_core_80bde1aa_js__WEBPACK_IMPORTED_MODULE_0__.f)(this)}static get watchers(){return{swipeGesture:[\"swipeGestureChanged\"],root:[\"rootChanged\"]}}static get style(){return\":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}\"}},NavLink=class{constructor(hostRef){Object(_core_80bde1aa_js__WEBPACK_IMPORTED_MODULE_0__.k)(this,hostRef),this.routerDirection=\"forward\",this.onClick=()=>((el,routerDirection,component,componentProps)=>{const nav=this.el.closest(\"ion-nav\");if(nav)if(\"forward\"===routerDirection){if(void 0!==component)return nav.push(component,componentProps,{skipIfBusy:!0})}else if(\"root\"===routerDirection){if(void 0!==component)return nav.setRoot(component,componentProps,{skipIfBusy:!0})}else if(\"back\"===routerDirection)return nav.pop({skipIfBusy:!0});return Promise.resolve(!1)})(0,this.routerDirection,this.component,this.componentProps)}render(){return Object(_core_80bde1aa_js__WEBPACK_IMPORTED_MODULE_0__.i)(_core_80bde1aa_js__WEBPACK_IMPORTED_MODULE_0__.a,{onClick:this.onClick})}get el(){return Object(_core_80bde1aa_js__WEBPACK_IMPORTED_MODULE_0__.f)(this)}}}}]);","extractedComments":[]}